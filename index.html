<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>NADIA | ××¨×—×‘ ×‘×˜×•×— ×•×”×—×œ××”</title>
    <meta name="description" content="× ×“×™×” - ×¤×œ×˜×¤×•×¨××” ××§×™×¤×” ×œ×ª××™×›×” ×‘× ×¤×’×¢×™ × ×¨×§×™×¡×™×–×: ×©××œ×•× ×™×, ××™×œ×•×Ÿ ××•×©×’×™×, ×¦'××˜ AI ×•×§×”×™×œ×” ×ª×•××›×ª.">
    
    <!-- ××•× ×¢ ×©×’×™××•×ª 404 ×¢×œ ××™×™×§×•×Ÿ ×—×¡×¨ -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ›¡ï¸</text></svg>">

    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@200;400;600;800&family=Heebo:wght@300;500;900&display=swap" rel="stylesheet">

    <style>
        :root {
            --brand-primary: #4f46e5;
            --brand-secondary: #818cf8;
            --soft-bg: #f8fafc;
            --success: #10b981;
        }

        body {
            font-family: 'Assistant', 'Heebo', sans-serif;
            background-color: var(--soft-bg);
            color: #0f172a;
            overflow-x: hidden;
        }

        .hero-gradient {
            background: radial-gradient(circle at 10% 20%, rgba(79, 70, 229, 0.05) 0%, rgba(255, 255, 255, 0) 100%);
        }

        .glass-nav {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        .premium-card {
            background: white;
            border: 1px solid rgba(0, 0, 0, 0.03);
            box-shadow: 0 4px 20px -5px rgba(0, 0, 0, 0.05);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
        }

        .premium-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px -10px rgba(79, 70, 229, 0.15);
            border-color: var(--brand-secondary);
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--brand-primary) 0%, #6366f1 100%);
            box-shadow: 0 4px 15px -3px rgba(79, 70, 229, 0.4);
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            transform: scale(1.02);
            filter: brightness(1.1);
        }

        .reveal-in {
            animation: fadeIn 0.6s ease-out forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .chat-bubble-bot {
            border-bottom-right-radius: 4px;
            background: white;
        }

        .chat-bubble-user {
            border-bottom-left-radius: 4px;
            background: var(--brand-primary);
        }

        .simulator-mode .chat-bubble-bot {
            background: #fff1f2;
            border: 1px solid #fecdd3;
            color: #881337;
        }
        
        .bento-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .custom-checkbox:checked {
            background-color: var(--brand-primary);
            border-color: var(--brand-primary);
        }
        
        /* Loading Screen */
        #loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #f8fafc;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            font-family: sans-serif;
            color: #4f46e5;
            font-weight: bold;
        }
    </style>
</head>
<body class="hero-gradient">
    <!-- ××¡×š ×˜×¢×™× ×” ×©×™×•×¤×™×¢ ×¢×“ ×©×”××ª×¨ ×™×¢×œ×” -->
    <div id="loading">×˜×•×¢×Ÿ ××ª × ×“×™×”...</div>
    <div id="root"></div>

    <script type="text/babel">
        // ×”×¡×¨×ª ××¡×š ×”×˜×¢×™× ×” ×›×©×”×¨×™××§×˜ ××•×›×Ÿ
        setTimeout(() => {
            const loader = document.getElementById('loading');
            if(loader) loader.style.display = 'none';
        }, 500);

        const { useState, useEffect, createContext, useContext } = React;

        // --- Icons ---
        const Icon = {
            Shield: () => <svg className="w-6 h-6" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>,
            Zap: () => <svg className="w-6 h-6" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>,
            Heart: () => <svg className="w-6 h-6" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"/></svg>,
            Exit: () => <svg className="w-6 h-6" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4m7 14l5-5-5-5m5 5H9"/></svg>,
            ArrowLeft: () => <svg className="w-5 h-5" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path d="M10 19l-7-7m0 0l7-7m-7 7h18"/></svg>,
            BookOpen: () => <svg className="w-6 h-6" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/></svg>,
            Mask: () => <svg className="w-6 h-6" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path d="M2 12c0 5.523 4.477 10 10 10s10-4.477 10-10S17.523 2 12 2 2 6.477 2 12z"/><path d="M15 9h.01"/><path d="M9 9h.01"/><path d="M12 16a4 4 0 0 1-4-2.5"/><path d="M16 13.5a4 4 0 0 1-4 2.5"/></svg>,
            List: () => <svg className="w-6 h-6" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"/></svg>,
            Users: () => <svg className="w-6 h-6" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/></svg>,
            Phone: () => <svg className="w-6 h-6" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg>,
            Lock: () => <svg className="w-5 h-5" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><rect x="3" y="11" width="18" height="11" rx="2" ry="2" /><path d="M7 11V7a5 5 0 0110 0v4" /></svg>,
            MessageCircle: () => <svg className="w-6 h-6" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path d="M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z"/></svg>,
            Calendar: () => <svg className="w-6 h-6" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" /><line x1="16" y1="2" x2="16" y2="6" /><line x1="8" y1="2" x2="8" y2="6" /><line x1="3" y1="10" x2="21" y2="10" /></svg>,
            Trash: () => <svg className="w-4 h-4" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><polyline points="3 6 5 6 21 6" /><path d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2" /></svg>
        };

        const AppContext = createContext();

        // --- Mock Data ---
        const glossaryTerms = [
            { term: "×’×–×œ×™×™×˜×™× ×’ (Gaslighting)", def: "×× ×™×¤×•×œ×¦×™×” ×©×’×•×¨××ª ×œ×§×•×¨×‘×Ÿ ×œ×¤×§×¤×§ ×‘×©×¤×™×•×ª×•, ×‘×–×™×›×¨×•× ×• ×•×‘×ª×¤×™×¡×ª ×”××¦×™××•×ª ×©×œ×•." },
            { term: "×”×¤×¦×¦×ª ××”×‘×” (Love Bombing)", def: "×”×¨×¢×¤×ª ×—×™×‘×”, ××ª× ×•×ª ×•×ª×©×•××ª ×œ×‘ ××•×’×–××ª ×‘×ª×—×™×œ×ª ×”×§×©×¨ ×›×“×™ ×œ×™×¦×•×¨ ×ª×œ×•×ª ×¨×’×©×™×ª ××”×™×¨×”." },
            { term: "××¡×¤×§×” × ×¨×§×™×¡×™×¡×˜×™×ª (Supply)", def: "×”'×“×œ×§' ×©×œ ×”× ×¨×§×™×¡×™×¡×˜: ×ª×©×•××ª ×œ×‘, ×”×¢×¨×¦×” ××• ×ª×’×•×‘×” ×¨×’×©×™×ª (×—×™×•×‘×™×ª ××• ×©×œ×™×œ×™×ª) ××”×¡×‘×™×‘×”." },
            { term: "×§×•×¤×™× ××¢×•×¤×¤×™× (Flying Monkeys)", def: "×× ×©×™× ×©×”× ×¨×§×™×¡×™×¡×˜ ××’×™×™×¡ ×œ×¦×“×• ×›×“×™ ×œ×”×¤×™×¥ ×©××•×¢×•×ª, ×œ×¨×’×œ ××• ×œ×¤×’×•×¢ ×‘×§×•×¨×‘×Ÿ ×‘×©××•." },
            { term: "×”×•×•×¨×™× ×’ (Hoovering)", def: "× ×™×¡×™×•× ×•×ª '×œ×©××•×‘' ××ª ×”×§×•×¨×‘×Ÿ ×—×–×¨×” ×œ×§×©×¨ ×œ××—×¨ ×¤×¨×™×“×”, ×‘×××¦×¢×•×ª ×”×‘×˜×—×•×ª ×©×•×•× ××• ×“×¨××”." },
            { term: "×˜×¨×™×× ×’×•×œ×¦×™×” (Triangulation)", def: "×”×›× ×¡×ª ×¦×œ×¢ ×©×œ×™×©×™×ª (××“× ××—×¨) ×œ×“×™× ××™×§×” ×›×“×™ ×œ×™×¦×•×¨ ×§× ××”, ×ª×—×¨×•×ª ×•×—×•×¡×¨ ×‘×™×˜×—×•×Ÿ." }
        ];

        const survivorStories = [
            { title: "×—×©×‘×ª×™ ×©×× ×™ ××©×ª×’×¢×ª", content: "×”×•× ×”×™×” ××•××¨ ×œ×™ ×©×“××™×™× ×ª×™ ×“×‘×¨×™× ×©×××¨ ×¨×§ ××ª××•×œ. ×œ×§×— ×œ×™ ×©× ×ª×™×™× ×œ×”×‘×™×Ÿ ×©×–×” ×’×–×œ×™×™×˜×™× ×’. ×”×™×•× ×× ×™ ×‘×—×•×¥.", author: "×× ×•× ×™××™×ª, 34" },
            { title: "×”××ª× ×•×ª ×”×™×• ××œ×›×•×“×ª", content: "×‘×”×ª×—×œ×” ×–×” ×”×™×” ×›××• ×¡×¨×˜. ×¤×¨×—×™×, ××¡×¢×“×•×ª. ××‘×œ ×¢×œ ×›×œ ××ª× ×” ×©×™×œ××ª×™ ××—×¨ ×›×š ×‘×‘×™×§×•×¨×ª ××™× ×¡×•×¤×™×ª.", author: "×“.×œ." },
            { title: "×”××‘×Ÿ ×”××¤×•×¨×” ×”×¦×™×œ×” ××•×ª×™", content: "×œ× ×™×›×•×œ×ª×™ ×œ×”×ª×’×¨×© ××™×“, ××– ×”×¤×›×ª×™ ×œ××©×¢×××ª. ×”×¤×¡×§×ª×™ ×œ×”×’×™×‘ ×œ×“×¨××•×ª. ×”×•× ×¤×©×•×˜ ××™×‘×“ ×¢× ×™×™×Ÿ.", author: "×©×™×¨×”" }
        ];

        // --- Navigation ---
        const Navbar = ({ setPage, activePage }) => (
            <nav className="fixed top-0 w-full z-50 glass-nav px-6 py-4">
                <div className="max-w-7xl mx-auto flex justify-between items-center">
                    <div className="flex items-center gap-2 cursor-pointer" onClick={() => setPage('home')}>
                        <div className="w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center text-white font-black shadow-lg shadow-indigo-200">N</div>
                        <span className="text-2xl font-black tracking-tighter text-slate-800 hidden md:block">NADIA</span>
                    </div>
                    <div className="hidden md:flex gap-8 font-semibold text-slate-600 text-sm">
                        {['home', 'quiz', 'glossary', 'resources', 'contact'].map(p => (
                            <button key={p} onClick={() => setPage(p)} className={`capitalize hover:text-indigo-600 transition-colors ${activePage === p ? 'text-indigo-600 font-bold' : ''}`}>
                                {{home: '×‘×™×ª', quiz: '××‘×—×•×Ÿ ×¢×¦××™', glossary: '××™×œ×•×Ÿ', resources: '××©××‘×™×', contact: '×™×¦×™×¨×ª ×§×©×¨'}[p]}
                            </button>
                        ))}
                    </div>
                    <button onClick={() => setPage('chat')} className="bg-indigo-600 text-white px-5 py-2 rounded-full font-bold btn-primary flex items-center gap-2 text-sm">
                        <Icon.Zap /> <span className="hidden md:inline">×¦'××˜ AI ××™×©×™</span>
                    </button>
                </div>
            </nav>
        );

        // --- Pages ---
        
        const GlossaryView = () => (
            <div className="reveal-in pt-32 pb-20 px-6 max-w-5xl mx-auto">
                <h2 className="text-4xl font-black text-center mb-12 text-slate-900">××™×œ×•×Ÿ ×”××•×©×’×™× ×”×©×œ×</h2>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                    {glossaryTerms.map((item, idx) => (
                        <div key={idx} className="premium-card p-8 rounded-[2rem]">
                            <h3 className="text-xl font-bold text-indigo-600 mb-3">{item.term}</h3>
                            <p className="text-slate-600 leading-relaxed">{item.def}</p>
                        </div>
                    ))}
                </div>
            </div>
        );

        const ContactView = () => {
            const [step, setStep] = useState(1);
            const [isDiscrete, setIsDiscrete] = useState(false);
            const [topic, setTopic] = useState("");
            const [submitted, setSubmitted] = useState(false);

            const handleNext = (selectedTopic) => {
                setTopic(selectedTopic);
                setStep(2);
            };

            const handleSubmit = (e) => {
                e.preventDefault();
                setSubmitted(true);
            };

            if (submitted) {
                return (
                    <div className="reveal-in pt-32 pb-20 px-6 max-w-2xl mx-auto text-center">
                        <div className="premium-card p-12 rounded-[3rem] border-t-4 border-green-500">
                            <div className="w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6">
                                <Icon.Heart />
                            </div>
                            <h2 className="text-3xl font-black text-slate-800 mb-4">×”×¤× ×™×™×” × ×©×œ×—×” ×‘×‘×˜×—×”</h2>
                            <p className="text-lg text-slate-600 mb-8">
                                ×ª×•×“×” ×©×¤× ×™×ª ××œ×™× ×•. ×× ×• ×¢×•×©×™× ××××¥ ×œ×—×–×•×¨ ×œ×›×œ ×¤× ×™×™×” ×ª×•×š 24 ×©×¢×•×ª.
                                <br/>
                                ×× ×¡×™×× ×ª "×“×™×¡×§×¨×˜×™×•×ª ××§×¡×™××œ×™×ª", ×œ× × ×©××™×¨ ×¢×§×‘×•×ª.
                            </p>
                            
                            <div className="bg-slate-50 p-6 rounded-2xl text-right mb-8">
                                <h3 className="font-bold mb-3 text-red-600">×¦×¨×™×›×” ×¢×–×¨×” ××™×™×“×™×ª?</h3>
                                <ul className="space-y-2 text-sm text-slate-600">
                                    <li>â€¢ ×¢×¨"×Ÿ (×¢×–×¨×” ×¨××©×•× ×” × ×¤×©×™×ª): <strong>1201</strong></li>
                                    <li>â€¢ ××•×§×“ ×—×™×¨×•× ×œ×× ×™×¢×ª ××œ×™××•×ª: <strong>118</strong></li>
                                    <li>â€¢ ××©×˜×¨×”: <strong>100</strong></li>
                                </ul>
                            </div>

                            <button onClick={() => window.location.reload()} className="text-indigo-600 font-bold hover:underline">×—×–×¨×” ×œ×“×£ ×”×‘×™×ª</button>
                        </div>
                    </div>
                );
            }

            return (
                <div className="reveal-in pt-32 pb-20 px-6 max-w-3xl mx-auto">
                    <div className="text-center mb-10">
                        <h2 className="text-4xl font-black text-slate-900 mb-4">×™×¦×™×¨×ª ×§×©×¨ ×‘×˜×•×—×”</h2>
                        <p className="text-slate-500">×× ×—× ×• ×›××Ÿ ×›×“×™ ×œ×”×§×©×™×‘, ×‘×“×™×¡×§×¨×˜×™×•×ª ××œ××”.</p>
                    </div>

                    <div className="premium-card p-8 md:p-12 rounded-[3rem] relative">
                        {/* History Wipe Tip */}
                        <div className="absolute top-6 left-6 group">
                            <button className="text-xs text-slate-400 flex items-center gap-1 hover:text-red-500 transition-colors">
                                <Icon.Trash /> ××—×™×§×ª ×”×™×¡×˜×•×¨×™×”
                            </button>
                            <div className="absolute top-full left-0 mt-2 w-48 bg-slate-800 text-white text-xs p-3 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-20">
                                ×œ×—×¦×™ Ctrl+H (××• Cmd+Y ×‘××§) ×›×“×™ ×œ××—×•×§ ××ª ×”×™×¡×˜×•×¨×™×™×ª ×”×’×œ×™×©×” ×‘×“×¤×“×¤×Ÿ.
                            </div>
                        </div>

                        {/* Secure Badge */}
                        <div className="flex justify-center mb-8">
                            <div className="bg-green-50 text-green-700 px-4 py-1 rounded-full text-xs font-bold flex items-center gap-2 border border-green-100">
                                <Icon.Lock /> ×˜×•×¤×¡ ×××•×‘×˜×— ×•××•×¦×¤×Ÿ (SSL)
                            </div>
                        </div>

                        {step === 1 && (
                            <div className="reveal-in">
                                <h3 className="text-xl font-bold mb-6 text-center">×‘××” × ×•×›×œ ×œ×¢×–×•×¨ ×”×™×•×?</h3>
                                <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                    {["×™×™×¢×•×¥ ×¨××©×•× ×™", "×©××œ×” ×“×—×•×¤×”", "×ª×™××•× ×¤×’×™×©×”", "×“×™×•×•×— ×¢×œ ×ª×§×œ×”", "××—×¨"].map(opt => (
                                        <button 
                                            key={opt}
                                            onClick={() => handleNext(opt)}
                                            className="p-4 rounded-2xl border border-slate-200 hover:border-indigo-500 hover:bg-indigo-50 transition-all text-slate-700 font-medium text-right"
                                        >
                                            {opt}
                                        </button>
                                    ))}
                                </div>
                                <div className="mt-8 pt-8 border-t border-slate-100">
                                    <h4 className="font-bold text-slate-800 mb-4">××¤×©×¨×•×™×•×ª × ×•×¡×¤×•×ª:</h4>
                                    <div className="flex flex-col sm:flex-row gap-4">
                                        <a href="https://wa.me/972524767098" target="_blank" className="flex-1 bg-green-500 text-white p-3 rounded-xl flex items-center justify-center gap-2 font-bold hover:bg-green-600 transition shadow-lg shadow-green-100">
                                            <Icon.MessageCircle /> ×•×•××˜×¡××¤ ×™×©×™×¨
                                        </a>
                                        <button className="flex-1 bg-blue-500 text-white p-3 rounded-xl flex items-center justify-center gap-2 font-bold hover:bg-blue-600 transition shadow-lg shadow-blue-100">
                                            <Icon.Calendar /> ×ª×™××•× ×‘×™×•××Ÿ
                                        </button>
                                    </div>
                                </div>
                            </div>
                        )}

                        {step === 2 && (
                            <form onSubmit={handleSubmit} className="reveal-in space-y-6">
                                <div className="flex items-center gap-2 mb-2 text-sm text-indigo-600 font-bold cursor-pointer" onClick={() => setStep(1)}>
                                    <Icon.ArrowLeft /> ×—×–×¨×” ×œ×‘×—×™×¨×ª × ×•×©×
                                </div>
                                <h3 className="text-xl font-bold mb-4">×¤×¨×˜×™× (×”×›×œ ××•×¤×¦×™×•× ×œ×™ ×œ×‘×—×™×¨×ª×š)</h3>
                                
                                <div>
                                    <label className="block text-sm font-medium text-slate-700 mb-1">×©× (××•×¤×¦×™×•× ×œ×™ - ××¤×©×¨ ×’× ×›×™× ×•×™)</label>
                                    <input type="text" className="w-full p-4 bg-slate-50 rounded-xl outline-none focus:ring-2 ring-indigo-200" placeholder="××™×š ×œ×§×¨×•× ×œ×š?" />
                                </div>

                                <div>
                                    <label className="block text-sm font-medium text-slate-700 mb-1">××™×š ×œ×—×–×•×¨ ××œ×™×š? (××™×™×œ ××• ×˜×œ×¤×•×Ÿ)</label>
                                    <input type="text" className="w-full p-4 bg-slate-50 rounded-xl outline-none focus:ring-2 ring-indigo-200" placeholder="×¤×¨×˜×™ ×”×ª×§×©×¨×•×ª..." />
                                </div>

                                <div>
                                    <label className="block text-sm font-medium text-slate-700 mb-1">×”×”×•×“×¢×” ×©×œ×š</label>
                                    <textarea className="w-full p-4 bg-slate-50 rounded-xl outline-none focus:ring-2 ring-indigo-200 h-32" placeholder="×›×ª×‘×™ ×›××Ÿ ×‘×—×•×¤×©×™×•×ª..." required></textarea>
                                </div>

                                <label className="flex items-start gap-3 p-4 bg-red-50 rounded-xl cursor-pointer border border-red-100">
                                    <input 
                                        type="checkbox" 
                                        checked={isDiscrete}
                                        onChange={(e) => setIsDiscrete(e.target.checked)}
                                        className="mt-1 w-5 h-5 accent-red-600" 
                                    />
                                    <div className="text-sm">
                                        <span className="font-bold text-red-700 block">×“×™×¡×§×¨×˜×™×•×ª ××§×¡×™××œ×™×ª</span>
                                        <span className="text-slate-600">× × ×œ× ×œ×”×©××™×¨ ×”×•×“×¢×” ×§×•×œ×™×ª ×•×œ× ×œ×©×œ×•×— ××™×™×œ ×—×•×–×¨ (×× ×™ ××¦×•×¨ ×§×©×¨ ×©×•×‘).</span>
                                    </div>
                                </label>

                                <button type="submit" className="w-full btn-primary text-white py-4 rounded-2xl font-bold text-lg shadow-xl">
                                    ×©×œ×™×—×” ×××•×‘×˜×—×ª
                                </button>
                                <p className="text-center text-xs text-slate-400 mt-2">×× ×• ××©×ª×“×œ×™× ×œ×¢× ×•×ª ×ª×•×š 24 ×©×¢×•×ª.</p>
                            </form>
                        )}
                    </div>
                </div>
            );
        };

        const QuizView = () => {
            const [score, setScore] = useState(0);
            const [submitted, setSubmitted] = useState(false);
            const questions = [
                "×”×× ×™×© ×œ×•/×œ×” ×ª×—×•×©×ª ×—×©×™×‘×•×ª ×¢×¦××™×ª ××•×¤×¨×–×ª (×’×¨× ×“×™×•×–×™×•×ª)?",
                "×”×× ×”×•×/×”×™× ×–×§×•×§/×” ×œ×”×¢×¨×¦×” ××ª××“×ª ×•××•×’×–××ª?",
                "×”×× ×™×© ×—×•×¡×¨ ×™×›×•×œ×ª ×œ×”×–×“×”×•×ª ×¢× ×¨×’×©×•×ª ×©×œ ××—×¨×™× (×—×•×¡×¨ ×××¤×ª×™×”)?",
                "×”×× ×”×•×/×”×™× ××§× ×/×” ×‘××—×¨×™× ××• ××××™×Ÿ/×” ×©××—×¨×™× ××§× ××™× ×‘×•/×‘×”?",
                "×”×× ×”×•×/×”×™× ××¤×’×™×Ÿ/×” ×™×—×¡ ××ª× ×©×, ×™×”×™×¨ ××• ×©×—×¦× ×™?",
                "×”×× ×”×•×/×”×™× ×× ×¦×œ/×ª ××—×¨×™× ×œ×”×©×’×ª ××˜×¨×•×ª ××™×©×™×•×ª?",
                "×”×× ×”×•×/×”×™× ××××™×Ÿ/×” ×©×”×•×/×”×™× '××™×•×—×“/×ª' ×•×©×¨×§ ×× ×©×™× ××™×•×—×“×™× ×™×›×•×œ×™× ×œ×”×‘×™×Ÿ ××•×ª×•/×”?"
            ];

            return (
                <div className="reveal-in pt-32 pb-20 px-6 max-w-3xl mx-auto">
                    <div className="premium-card p-10 rounded-[3rem]">
                        <h2 className="text-3xl font-black text-center mb-4">×”×× ×× ×™ ×‘×§×©×¨ ×¢× × ×¨×§×™×¡×™×¡×˜?</h2>
                        <p className="text-center text-slate-500 mb-8">×©××œ×•×Ÿ ×–×” ××‘×•×¡×¡ ×¢×œ ×§×¨×™×˜×¨×™×•× ×™× ××”-DSM-5, ××š ××™× ×• ××”×•×•×” ××‘×—× ×” ×¨×¤×•××™×ª.</p>
                        
                        {!submitted ? (
                            <div className="space-y-6">
                                {questions.map((q, i) => (
                                    <label key={i} className="flex items-start gap-4 p-4 rounded-2xl hover:bg-slate-50 cursor-pointer transition-colors border border-transparent hover:border-slate-100">
                                        <input type="checkbox" className="mt-1 w-5 h-5 accent-indigo-600" onChange={(e) => e.target.checked ? setScore(s => s+1) : setScore(s => s-1)} />
                                        <span className="text-lg text-slate-700">{q}</span>
                                    </label>
                                ))}
                                <button onClick={() => setSubmitted(true)} className="w-full btn-primary text-white py-4 rounded-2xl font-bold text-xl mt-8">×§×‘×œ×ª ×ª×•×¦××•×ª</button>
                            </div>
                        ) : (
                            <div className="text-center py-10">
                                <div className="text-6xl font-black text-indigo-600 mb-6">{score} / {questions.length}</div>
                                <h3 className="text-2xl font-bold mb-4 text-slate-800">
                                    {score >= 5 ? "×“×’×œ×™× ××“×•××™× ××©××¢×•×ª×™×™×" : "× ×¨××” ×©×™×©× × ××¡×¤×¨ ×××¤×™×™× ×™× × ×¨×§×™×¡×™×¡×˜×™×™×"}
                                </h3>
                                <p className="text-lg text-slate-600 mb-8 max-w-xl mx-auto">
                                    {score >= 5 
                                        ? "×”×ª×•×¦××•×ª ××¦×‘×™×¢×•×ª ×¢×œ ×¡×‘×™×¨×•×ª ×’×‘×•×”×” ×œ×§×©×¨ ×¢× ××“× ×‘×¢×œ ×§×•×•×™× × ×¨×§×™×¡×™×¡×˜×™×™× ××•×‘×”×§×™×. ××•××œ×¥ ×œ×¤× ×•×ª ×œ×™×™×¢×•×¥ ××§×¦×•×¢×™ ×•×œ×©×§×•×œ ×”×¦×‘×ª ×’×‘×•×œ×•×ª."
                                        : "×’× ×× ×”×¦×™×•×Ÿ ××™× ×• ××§×¡×™××œ×™, ×× ××ª/×” ××¨×’×™×©/×” ××¦×•×§×” ×‘×§×©×¨, ×”×ª×—×•×©×” ×©×œ×š ×”×™× ×”×§×•×‘×¢×ª."}
                                </p>
                                <button onClick={() => {setSubmitted(false); setScore(0);}} className="text-indigo-600 font-bold hover:underline">×œ×”×ª×—×™×œ ××—×“×©</button>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const StoriesView = () => (
            <div className="reveal-in pt-32 pb-20 px-6 max-w-6xl mx-auto">
                <div className="text-center mb-16">
                    <h2 className="text-4xl font-black mb-4">××ª× ×œ× ×œ×‘×“</h2>
                    <p className="text-xl text-slate-500">×¡×™×¤×•×¨×™× ×××™×ª×™×™× ××× ×©×™× ×©×”×™×• ×©× ×•×™×¦××• ×œ×—×•×¤×©×™</p>
                </div>
                
                <div className="grid grid-cols-1 md:grid-cols-3 gap-8 mb-16">
                    {survivorStories.map((story, i) => (
                        <div key={i} className="premium-card p-8 rounded-[2.5rem] relative">
                            <div className="absolute top-8 right-8 text-6xl text-indigo-100 font-serif">"</div>
                            <h3 className="text-xl font-bold mb-4 relative z-10">{story.title}</h3>
                            <p className="text-slate-600 mb-6 relative z-10 leading-relaxed">{story.content}</p>
                            <div className="text-sm font-bold text-indigo-500 uppercase tracking-wider">{story.author}</div>
                        </div>
                    ))}
                </div>

                <div className="premium-card p-10 rounded-[3rem] bg-indigo-50 border-indigo-100 text-center max-w-3xl mx-auto">
                    <h3 className="text-2xl font-bold mb-4">×™×© ×œ×š ×¡×™×¤×•×¨ ×œ×©×ª×£?</h3>
                    <p className="text-slate-600 mb-6">×©×™×ª×•×£ (×× ×•× ×™××™) ×”×•× ×—×œ×§ ××”×”×—×œ××” ×•×™×›×•×œ ×œ×¢×–×•×¨ ×œ××—×¨×™×.</p>
                    <textarea className="w-full p-4 rounded-2xl border-none mb-4 outline-none focus:ring-2 ring-indigo-300" rows="3" placeholder="×›×ª×‘×• ×›××Ÿ..."></textarea>
                    <button className="bg-indigo-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-indigo-700 transition">×©×œ×™×—×” ×× ×•× ×™××™×ª</button>
                </div>
            </div>
        );

        const ResourcesView = () => (
            <div className="reveal-in pt-32 pb-20 px-6 max-w-6xl mx-auto">
                <h2 className="text-4xl font-black text-center mb-12">××©××‘×™× ×•×¢×–×¨×”</h2>
                
                <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div className="premium-card p-10 rounded-[2.5rem] border-t-4 border-red-500">
                        <div className="flex items-center gap-4 mb-6">
                            <div className="p-3 bg-red-100 text-red-600 rounded-xl"><Icon.Phone /></div>
                            <h3 className="text-2xl font-bold">×§×•×•×™ ×—×™×¨×•× ×•×ª××™×›×”</h3>
                        </div>
                        <ul className="space-y-4">
                            <li className="flex justify-between items-center p-3 bg-slate-50 rounded-xl">
                                <span>×§×• ×ª××™×›×” ×™×©×™×¨ (× ×“×™×”)</span>
                                <a href="tel:0524767098" className="font-bold text-indigo-600 bg-white px-3 py-1 rounded-lg shadow-sm">052-476-7098</a>
                            </li>
                            <li className="flex justify-between items-center p-3 bg-slate-50 rounded-xl">
                                <span>×¢×¨"×Ÿ (×¢×–×¨×” ×¨××©×•× ×” × ×¤×©×™×ª)</span>
                                <a href="tel:1201" className="font-bold text-red-600 bg-white px-3 py-1 rounded-lg shadow-sm">1201</a>
                            </li>
                            <li className="flex justify-between items-center p-3 bg-slate-50 rounded-xl">
                                <span>××•×§×“ ×¡×™×•×¢ ×œ× ×¤×’×¢×™ ××œ×™××•×ª</span>
                                <a href="tel:118" className="font-bold text-red-600 bg-white px-3 py-1 rounded-lg shadow-sm">118</a>
                            </li>
                            <li className="flex justify-between items-center p-3 bg-slate-50 rounded-xl">
                                <span>×¡×”"×¨ (×¡×™×•×¢ ×‘×¨×©×ª)</span>
                                <a href="https://sahar.org.il" target="_blank" className="font-bold text-indigo-600 text-sm">×œ××ª×¨</a>
                            </li>
                        </ul>
                    </div>

                    <div className="premium-card p-10 rounded-[2.5rem] border-t-4 border-indigo-500">
                        <div className="flex items-center gap-4 mb-6">
                            <div className="p-3 bg-indigo-100 text-indigo-600 rounded-xl"><Icon.BookOpen /></div>
                            <h3 className="text-2xl font-bold">×”××œ×¦×•×ª ×§×¨×™××”</h3>
                        </div>
                        <ul className="space-y-4">
                            <li className="p-4 bg-slate-50 rounded-xl">
                                <div className="font-bold">"×œ××” ×”×•× ×¢×•×©×” ××ª ×–×”?"</div>
                                <div className="text-sm text-slate-500">×œ× ×“×™ ×‘× ×§×¨×•×¤×˜ - ×—×•×‘×” ×œ×§×¨×™××”.</div>
                            </li>
                            <li className="p-4 bg-slate-50 rounded-xl">
                                <div className="font-bold">"× ×©×™× ×©××•×”×‘×•×ª ×™×•×ª×¨ ××“×™"</div>
                                <div className="text-sm text-slate-500">×¨×•×‘×™×Ÿ × ×•×¨×•×•×“.</div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        );

        // Reusing ChatView from previous version with key fix
        const ChatView = () => {
            const { apiKey } = useContext(AppContext);
            const [input, setInput] = useState("");
            const [mode, setMode] = useState('support'); 
            const [messages, setMessages] = useState([{ role: 'bot', text: "×©×œ×•×. ×× ×™ × ×“×™×”. ×”××¨×—×‘ ×›××Ÿ ×‘×˜×•×—. ××¤×©×¨ ×œ×”×ª×™×™×¢×¥, ×œ×©×ª×£ ××• ×œ×ª×¨×’×œ ×©×™×—×”." }]);
            const [isTyping, setIsTyping] = useState(false);

            const send = async () => {
                if(!input.trim()) return;
                const userMsg = input;
                setMessages(prev => [...prev, { role: 'user', text: userMsg }]);
                setInput("");
                setIsTyping(true);

                const prompt = mode === 'support' 
                    ? `Act as an empathetic expert on narcissism. Keep responses short and helpful. Analyze: "${userMsg}"`
                    : `Roleplay a narcissist. Be arrogant and dismissive to: "${userMsg}"`;

                try {
                    const res = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${apiKey}`, {
                        method: 'POST', headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
                    });
                    const data = await res.json();
                    setMessages(prev => [...prev, { role: 'bot', text: data.candidates?.[0]?.content?.parts?.[0]?.text || "×©×’×™××”" }]);
                } catch (e) { setMessages(prev => [...prev, { role: 'bot', text: "×©×’×™××ª ×ª×§×©×•×¨×ª" }]); } 
                finally { setIsTyping(false); }
            };

            return (
                <div className={`reveal-in max-w-4xl mx-auto h-[700px] flex flex-col premium-card rounded-[3rem] overflow-hidden mt-32 mb-20 shadow-2xl border-white/50 ${mode === 'simulator' ? 'simulator-mode' : ''}`}>
                    <div className={`p-6 border-b backdrop-blur-md flex justify-between items-center sticky top-0 z-10 transition-colors ${mode === 'support' ? 'bg-white/80' : 'bg-red-50/90'}`}>
                        <div className="font-bold text-lg">{mode === 'support' ? '× ×“×™×” - ×ª××™×›×”' : '×¡×™××•×œ×˜×•×¨ × ×¨×§×™×¡×™×¡×˜'}</div>
                        <div className="flex bg-slate-100 p-1 rounded-lg">
                            <button onClick={() => setMode('support')} className={`px-3 py-1 rounded-md text-sm ${mode === 'support' ? 'bg-white shadow' : ''}`}>×ª××™×›×”</button>
                            <button onClick={() => setMode('simulator')} className={`px-3 py-1 rounded-md text-sm ${mode === 'simulator' ? 'bg-white shadow text-red-600' : ''}`}>×¡×™××•×œ×˜×•×¨</button>
                        </div>
                    </div>
                    <div className="flex-1 overflow-y-auto p-8 space-y-6 bg-slate-50/50">
                        {messages.map((m, i) => (
                            <div key={i} className={`flex ${m.role === 'user' ? 'justify-start' : 'justify-end'}`}>
                                <div className={`max-w-[85%] p-4 rounded-2xl shadow-sm ${m.role === 'user' ? 'chat-bubble-user text-white' : 'chat-bubble-bot border'}`}>{m.text}</div>
                            </div>
                        ))}
                        {isTyping && <div className="text-center text-slate-400 text-sm animate-pulse">××§×œ×™×“...</div>}
                    </div>
                    <div className="p-6 bg-white border-t flex gap-3">
                        <input value={input} onChange={e => setInput(e.target.value)} onKeyDown={e => e.key === 'Enter' && send()} className="flex-1 p-4 bg-slate-100 rounded-xl outline-none" placeholder="×”×§×œ×“/×™ ×›××Ÿ..." />
                        <button onClick={send} className="bg-indigo-600 text-white p-4 rounded-xl"><Icon.Zap /></button>
                    </div>
                </div>
            );
        };

        const HomeView = ({ setPage }) => (
            <div className="reveal-in pt-32 pb-20
